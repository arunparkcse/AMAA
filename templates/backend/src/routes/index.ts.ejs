import { Router } from 'express';
import { authenticate } from '../middleware/auth';
<% entities.forEach(ent => { %>
import <%= toKebab(ent.name).replace(/^-/, '') %>Router from './<%= toKebab(ent.name) %>';
<% }) %>

const router = Router();

<% entities.forEach(ent => { %>
router.use('/<%= toKebab(ent.name) %>', authenticate, <%= toKebab(ent.name).replace(/^-/, '') %>Router);
<% }) %>

export default router;